databaseChangeLog:
  - changeSet:
      id: 2
      author: krumyantsev-sc
      databaseChangeLog:
        - changeSet:
            id: create-user-table
            author: yourname
            changes:
              - sql: "CREATE TYPE role AS ENUM ('ADMIN', 'USER', 'GUEST');"
              - sql: "CREATE EXTENSION IF NOT EXISTS pgcrypto;"
              - createTable:
                  tableName: user
                  columns:
                    - column:
                        name: id
                        type: bigint
                        autoIncrement: true
                        constraints:
                          primaryKey: true
                          nullable: false
                    - column:
                        name: uuid
                        type: uuid
                        defaultValueComputed: uuid_generate_v4()
                        constraints:
                          nullable: false
                          unique: true
                    - column:
                        name: login
                        type: varchar(255)
                        constraints:
                          nullable: false
                          unique: true
                    - column:
                        name: password
                        type: varchar(255)
                        constraints:
                          nullable: false
                    - column:
                        name: email
                        type: varchar(255)
                        constraints:
                          nullable: false
                          unique: true
                    - column:
                        name: registration_date
                        type: timestamp
                        constraints:
                          nullable: false
                    - column:
                        name: role
                        type: role
                        constraints:
                          nullable: false